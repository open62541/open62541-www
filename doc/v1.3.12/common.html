<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Common Definitions &mdash; open62541 1.3.12 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=fd3f3429" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/documentation_options.js?v=93b43ced"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="XML Nodeset Compiler" href="nodeset_compiler.html" />
    <link rel="prev" title="PubSub" href="pubsub.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="toc.html" class="icon icon-home">
            open62541
              <img src="_static/open62541_html.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.3
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="building.html">Building open62541</a></li>
<li class="toctree-l1"><a class="reference internal" href="installing.html">Installing open62541</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="protocol.html">Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="types.html">Data Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="services.html">Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="nodestore.html">Information Modelling</a></li>
<li class="toctree-l1"><a class="reference internal" href="nodestore.html#node-pointer">Node Pointer</a></li>
<li class="toctree-l1"><a class="reference internal" href="server.html">Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="client.html">Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="pubsub.html">PubSub</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Common Definitions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#attribute-id">Attribute Id</a></li>
<li class="toctree-l2"><a class="reference internal" href="#access-level-masks">Access Level Masks</a></li>
<li class="toctree-l2"><a class="reference internal" href="#write-masks">Write Masks</a></li>
<li class="toctree-l2"><a class="reference internal" href="#valueranks">ValueRanks</a></li>
<li class="toctree-l2"><a class="reference internal" href="#eventnotifier">EventNotifier</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rule-handling">Rule Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="#order">Order</a></li>
<li class="toctree-l2"><a class="reference internal" href="#connection-state">Connection State</a></li>
<li class="toctree-l2"><a class="reference internal" href="#statistic-counters">Statistic counters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#forward-declarations">Forward Declarations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#key-value-map">Key Value Map</a></li>
<li class="toctree-l2"><a class="reference internal" href="#endpoint-url-parser">Endpoint URL Parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="#parse-relativepath-expressions">Parse RelativePath Expressions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#example-relativepaths">Example RelativePaths</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#convenience-macros-for-complex-types">Convenience macros for complex types</a></li>
<li class="toctree-l2"><a class="reference internal" href="#helper-functions-for-converting-data-types">Helper functions for converting data types</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="nodeset_compiler.html">XML Nodeset Compiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="internal.html">Internals</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="toc.html">open62541</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="toc.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Common Definitions</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/common.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="common-definitions">
<h1>Common Definitions<a class="headerlink" href="#common-definitions" title="Link to this heading">¶</a></h1>
<p>Common definitions for Client, Server and PubSub.</p>
<section id="attribute-id">
<span id="id1"></span><h2>Attribute Id<a class="headerlink" href="#attribute-id" title="Link to this heading">¶</a></h2>
<p>Every node in an OPC UA information model contains attributes depending on
the node type. Possible attributes are as follows:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">UA_ATTRIBUTEID_NODEID</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_ATTRIBUTEID_NODECLASS</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_ATTRIBUTEID_BROWSENAME</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_ATTRIBUTEID_DISPLAYNAME</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_ATTRIBUTEID_DESCRIPTION</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_ATTRIBUTEID_WRITEMASK</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_ATTRIBUTEID_USERWRITEMASK</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_ATTRIBUTEID_ISABSTRACT</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_ATTRIBUTEID_SYMMETRIC</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_ATTRIBUTEID_INVERSENAME</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_ATTRIBUTEID_CONTAINSNOLOOPS</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_ATTRIBUTEID_EVENTNOTIFIER</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_ATTRIBUTEID_VALUE</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_ATTRIBUTEID_DATATYPE</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_ATTRIBUTEID_VALUERANK</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_ATTRIBUTEID_ARRAYDIMENSIONS</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_ATTRIBUTEID_ACCESSLEVEL</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_ATTRIBUTEID_USERACCESSLEVEL</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_ATTRIBUTEID_MINIMUMSAMPLINGINTERVAL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">19</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_ATTRIBUTEID_HISTORIZING</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_ATTRIBUTEID_EXECUTABLE</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_ATTRIBUTEID_USEREXECUTABLE</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_ATTRIBUTEID_DATATYPEDEFINITION</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_ATTRIBUTEID_ROLEPERMISSIONS</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_ATTRIBUTEID_USERROLEPERMISSIONS</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_ATTRIBUTEID_ACCESSRESTRICTIONS</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_ATTRIBUTEID_ACCESSLEVELEX</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">27</span>
<span class="p">}</span><span class="w"> </span><span class="n">UA_AttributeId</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="access-level-masks">
<h2>Access Level Masks<a class="headerlink" href="#access-level-masks" title="Link to this heading">¶</a></h2>
<p>The access level to a node is given by the following constants that are ANDed
with the overall access level.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#define UA_ACCESSLEVELMASK_READ           (0x01u &lt;&lt; 0u)</span>
<span class="cp">#define UA_ACCESSLEVELMASK_WRITE          (0x01u &lt;&lt; 1u)</span>
<span class="cp">#define UA_ACCESSLEVELMASK_HISTORYREAD    (0x01u &lt;&lt; 2u)</span>
<span class="cp">#define UA_ACCESSLEVELMASK_HISTORYWRITE   (0x01u &lt;&lt; 3u)</span>
<span class="cp">#define UA_ACCESSLEVELMASK_SEMANTICCHANGE (0x01u &lt;&lt; 4u)</span>
<span class="cp">#define UA_ACCESSLEVELMASK_STATUSWRITE    (0x01u &lt;&lt; 5u)</span>
<span class="cp">#define UA_ACCESSLEVELMASK_TIMESTAMPWRITE (0x01u &lt;&lt; 6u)</span>
</pre></div>
</div>
</section>
<section id="write-masks">
<h2>Write Masks<a class="headerlink" href="#write-masks" title="Link to this heading">¶</a></h2>
<p>The write mask and user write mask is given by the following constants that
are ANDed for the overall write mask. Part 3: 5.2.7 Table 2</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#define UA_WRITEMASK_ACCESSLEVEL             (0x01u &lt;&lt; 0u)</span>
<span class="cp">#define UA_WRITEMASK_ARRRAYDIMENSIONS        (0x01u &lt;&lt; 1u)</span>
<span class="cp">#define UA_WRITEMASK_BROWSENAME              (0x01u &lt;&lt; 2u)</span>
<span class="cp">#define UA_WRITEMASK_CONTAINSNOLOOPS         (0x01u &lt;&lt; 3u)</span>
<span class="cp">#define UA_WRITEMASK_DATATYPE                (0x01u &lt;&lt; 4u)</span>
<span class="cp">#define UA_WRITEMASK_DESCRIPTION             (0x01u &lt;&lt; 5u)</span>
<span class="cp">#define UA_WRITEMASK_DISPLAYNAME             (0x01u &lt;&lt; 6u)</span>
<span class="cp">#define UA_WRITEMASK_EVENTNOTIFIER           (0x01u &lt;&lt; 7u)</span>
<span class="cp">#define UA_WRITEMASK_EXECUTABLE              (0x01u &lt;&lt; 8u)</span>
<span class="cp">#define UA_WRITEMASK_HISTORIZING             (0x01u &lt;&lt; 9u)</span>
<span class="cp">#define UA_WRITEMASK_INVERSENAME             (0x01u &lt;&lt; 10u)</span>
<span class="cp">#define UA_WRITEMASK_ISABSTRACT              (0x01u &lt;&lt; 11u)</span>
<span class="cp">#define UA_WRITEMASK_MINIMUMSAMPLINGINTERVAL (0x01u &lt;&lt; 12u)</span>
<span class="cp">#define UA_WRITEMASK_NODECLASS               (0x01u &lt;&lt; 13u)</span>
<span class="cp">#define UA_WRITEMASK_NODEID                  (0x01u &lt;&lt; 14u)</span>
<span class="cp">#define UA_WRITEMASK_SYMMETRIC               (0x01u &lt;&lt; 15u)</span>
<span class="cp">#define UA_WRITEMASK_USERACCESSLEVEL         (0x01u &lt;&lt; 16u)</span>
<span class="cp">#define UA_WRITEMASK_USEREXECUTABLE          (0x01u &lt;&lt; 17u)</span>
<span class="cp">#define UA_WRITEMASK_USERWRITEMASK           (0x01u &lt;&lt; 18u)</span>
<span class="cp">#define UA_WRITEMASK_VALUERANK               (0x01u &lt;&lt; 19u)</span>
<span class="cp">#define UA_WRITEMASK_WRITEMASK               (0x01u &lt;&lt; 20u)</span>
<span class="cp">#define UA_WRITEMASK_VALUEFORVARIABLETYPE    (0x01u &lt;&lt; 21u)</span>
</pre></div>
</div>
</section>
<section id="valueranks">
<h2>ValueRanks<a class="headerlink" href="#valueranks" title="Link to this heading">¶</a></h2>
<p>The following are the most common ValueRanks used for Variables,
VariableTypes and method arguments. ValueRanks higher than 3 are valid as
well (but less common).</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#define UA_VALUERANK_SCALAR_OR_ONE_DIMENSION  -3</span>
<span class="cp">#define UA_VALUERANK_ANY                      -2</span>
<span class="cp">#define UA_VALUERANK_SCALAR                   -1</span>
<span class="cp">#define UA_VALUERANK_ONE_OR_MORE_DIMENSIONS    0</span>
<span class="cp">#define UA_VALUERANK_ONE_DIMENSION             1</span>
<span class="cp">#define UA_VALUERANK_TWO_DIMENSIONS            2</span>
<span class="cp">#define UA_VALUERANK_THREE_DIMENSIONS          3</span>
</pre></div>
</div>
</section>
<section id="eventnotifier">
<h2>EventNotifier<a class="headerlink" href="#eventnotifier" title="Link to this heading">¶</a></h2>
<p>The following are the available EventNotifier used for Nodes.
The EventNotifier Attribute is used to indicate if the Node can be used
to subscribe to Events or to read / write historic Events.
Part 3: 5.4 Table 10</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#define UA_EVENTNOTIFIER_SUBSCRIBE_TO_EVENT (0x01u &lt;&lt; 0u)</span>
<span class="cp">#define UA_EVENTNOTIFIER_HISTORY_READ       (0x01u &lt;&lt; 2u)</span>
<span class="cp">#define UA_EVENTNOTIFIER_HISTORY_WRITE      (0x01u &lt;&lt; 3u)</span>
</pre></div>
</div>
</section>
<section id="rule-handling">
<span id="id2"></span><h2>Rule Handling<a class="headerlink" href="#rule-handling" title="Link to this heading">¶</a></h2>
<p>The RuleHanding settings define how error cases that result from rules in the
OPC UA specification shall be handled. The rule handling can be softened,
e.g. to workaround misbehaving implementations or to mitigate the impact of
additional rules that are introduced in later versions of the OPC UA
specification.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">UA_RULEHANDLING_DEFAULT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_RULEHANDLING_ABORT</span><span class="p">,</span><span class="w">  </span><span class="cm">/* Abort the operation and return an error code */</span>
<span class="w">    </span><span class="n">UA_RULEHANDLING_WARN</span><span class="p">,</span><span class="w">   </span><span class="cm">/* Print a message in the logs and continue */</span>
<span class="w">    </span><span class="n">UA_RULEHANDLING_ACCEPT</span><span class="p">,</span><span class="w"> </span><span class="cm">/* Continue and disregard the broken rule */</span>
<span class="p">}</span><span class="w"> </span><span class="n">UA_RuleHandling</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="order">
<h2>Order<a class="headerlink" href="#order" title="Link to this heading">¶</a></h2>
<p>The Order enum is used to establish an absolute ordering between elements.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">UA_ORDER_LESS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_ORDER_EQ</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_ORDER_MORE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
<span class="p">}</span><span class="w"> </span><span class="n">UA_Order</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="connection-state">
<h2>Connection State<a class="headerlink" href="#connection-state" title="Link to this heading">¶</a></h2>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">UA_SECURECHANNELSTATE_FRESH</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_SECURECHANNELSTATE_HEL_SENT</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_SECURECHANNELSTATE_HEL_RECEIVED</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_SECURECHANNELSTATE_ACK_SENT</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_SECURECHANNELSTATE_ACK_RECEIVED</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_SECURECHANNELSTATE_OPN_SENT</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_SECURECHANNELSTATE_OPEN</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_SECURECHANNELSTATE_CLOSING</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_SECURECHANNELSTATE_CLOSED</span>
<span class="p">}</span><span class="w"> </span><span class="n">UA_SecureChannelState</span><span class="p">;</span>

<span class="k">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">UA_SESSIONSTATE_CLOSED</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_SESSIONSTATE_CREATE_REQUESTED</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_SESSIONSTATE_CREATED</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_SESSIONSTATE_ACTIVATE_REQUESTED</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_SESSIONSTATE_ACTIVATED</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_SESSIONSTATE_CLOSING</span>
<span class="p">}</span><span class="w"> </span><span class="n">UA_SessionState</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="statistic-counters">
<h2>Statistic counters<a class="headerlink" href="#statistic-counters" title="Link to this heading">¶</a></h2>
<p>The stack manages statistic counters for the following layers:</p>
<ul class="simple">
<li><p>Network</p></li>
<li><p>Secure channel</p></li>
<li><p>Session</p></li>
</ul>
<p>The session layer counters are matching the counters of the
ServerDiagnosticsSummaryDataType that are defined in the OPC UA Part 5
specification. Counters of the other layers are not specified by OPC UA but
are harmonized with the session layer counters if possible.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">currentConnectionCount</span><span class="p">;</span>
<span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">cumulatedConnectionCount</span><span class="p">;</span>
<span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">rejectedConnectionCount</span><span class="p">;</span>
<span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">connectionTimeoutCount</span><span class="p">;</span>
<span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">connectionAbortCount</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">UA_NetworkStatistics</span><span class="p">;</span>

<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">currentChannelCount</span><span class="p">;</span>
<span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">cumulatedChannelCount</span><span class="p">;</span>
<span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">rejectedChannelCount</span><span class="p">;</span>
<span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">channelTimeoutCount</span><span class="p">;</span><span class="w"> </span><span class="cm">/* only used by servers */</span>
<span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">channelAbortCount</span><span class="p">;</span>
<span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">channelPurgeCount</span><span class="p">;</span><span class="w">   </span><span class="cm">/* only used by servers */</span>
<span class="p">}</span><span class="w"> </span><span class="n">UA_SecureChannelStatistics</span><span class="p">;</span>

<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">currentSessionCount</span><span class="p">;</span>
<span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">cumulatedSessionCount</span><span class="p">;</span>
<span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">securityRejectedSessionCount</span><span class="p">;</span><span class="w"> </span><span class="cm">/* only used by servers */</span>
<span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">rejectedSessionCount</span><span class="p">;</span>
<span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">sessionTimeoutCount</span><span class="p">;</span><span class="w">          </span><span class="cm">/* only used by servers */</span>
<span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">sessionAbortCount</span><span class="p">;</span><span class="w">            </span><span class="cm">/* only used by servers */</span>
<span class="p">}</span><span class="w"> </span><span class="n">UA_SessionStatistics</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="forward-declarations">
<h2>Forward Declarations<a class="headerlink" href="#forward-declarations" title="Link to this heading">¶</a></h2>
<p>Opaque pointers used by the plugins.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">UA_Server</span><span class="p">;</span>
<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">UA_Server</span><span class="w"> </span><span class="n">UA_Server</span><span class="p">;</span>

<span class="k">struct</span><span class="w"> </span><span class="nc">UA_ServerConfig</span><span class="p">;</span>
<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">UA_ServerConfig</span><span class="w"> </span><span class="n">UA_ServerConfig</span><span class="p">;</span>

<span class="k">typedef</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">UA_ServerCallback</span><span class="p">)(</span><span class="n">UA_Server</span><span class="w"> </span><span class="o">*</span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">data</span><span class="p">);</span>

<span class="k">struct</span><span class="w"> </span><span class="nc">UA_Client</span><span class="p">;</span>
<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">UA_Client</span><span class="w"> </span><span class="n">UA_Client</span><span class="p">;</span>

<span class="cm">/* Timer policy to handle cycle misses */</span>
<span class="k">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">UA_TIMER_HANDLE_CYCLEMISS_WITH_CURRENTTIME</span><span class="p">,</span>
<span class="w">    </span><span class="n">UA_TIMER_HANDLE_CYCLEMISS_WITH_BASETIME</span>
<span class="p">}</span><span class="w"> </span><span class="n">UA_TimerPolicy</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="key-value-map">
<h2>Key Value Map<a class="headerlink" href="#key-value-map" title="Link to this heading">¶</a></h2>
<p>Helper functions to work with configuration parameters in an array of
UA_KeyValuePair. Lookup is linear. So this is for small numbers of
keys.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cm">/* Makes a copy of the value. Can reallocate the underlying array. This</span>
<span class="cm"> * invalidates pointers into the previous array. If the key exists already, the</span>
<span class="cm"> * value is overwritten. */</span>
<span class="n">UA_StatusCode</span>
<span class="nf">UA_KeyValueMap_setQualified</span><span class="p">(</span><span class="n">UA_KeyValuePair</span><span class="w"> </span><span class="o">**</span><span class="n">map</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="o">*</span><span class="n">mapSize</span><span class="p">,</span>
<span class="w">                            </span><span class="k">const</span><span class="w"> </span><span class="n">UA_QualifiedName</span><span class="w"> </span><span class="o">*</span><span class="n">key</span><span class="p">,</span>
<span class="w">                            </span><span class="k">const</span><span class="w"> </span><span class="n">UA_Variant</span><span class="w"> </span><span class="o">*</span><span class="n">value</span><span class="p">);</span>

<span class="cm">/* Simplified version that assumes the key is in namespace 0 */</span>
<span class="n">UA_StatusCode</span>
<span class="nf">UA_KeyValueMap_set</span><span class="p">(</span><span class="n">UA_KeyValuePair</span><span class="w"> </span><span class="o">**</span><span class="n">map</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="o">*</span><span class="n">mapSize</span><span class="p">,</span>
<span class="w">                   </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">UA_Variant</span><span class="w"> </span><span class="o">*</span><span class="n">value</span><span class="p">);</span>

<span class="cm">/* Returns a pointer into underlying array or NULL if the key is not found.*/</span>
<span class="k">const</span><span class="w"> </span><span class="n">UA_Variant</span><span class="w"> </span><span class="o">*</span>
<span class="nf">UA_KeyValueMap_getQualified</span><span class="p">(</span><span class="n">UA_KeyValuePair</span><span class="w"> </span><span class="o">*</span><span class="n">map</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">mapSize</span><span class="p">,</span>
<span class="w">                            </span><span class="k">const</span><span class="w"> </span><span class="n">UA_QualifiedName</span><span class="w"> </span><span class="o">*</span><span class="n">key</span><span class="p">);</span>

<span class="cm">/* Simplified version that assumes the key is in namespace 0 */</span>
<span class="k">const</span><span class="w"> </span><span class="n">UA_Variant</span><span class="w"> </span><span class="o">*</span>
<span class="nf">UA_KeyValueMap_get</span><span class="p">(</span><span class="n">UA_KeyValuePair</span><span class="w"> </span><span class="o">*</span><span class="n">map</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">mapSize</span><span class="p">,</span>
<span class="w">                   </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">key</span><span class="p">);</span>

<span class="cm">/* Returns NULL if the value for the key is not defined or not of the right</span>
<span class="cm"> * datatype and scalar/array */</span>
<span class="k">const</span><span class="w"> </span><span class="n">UA_Variant</span><span class="w"> </span><span class="o">*</span>
<span class="nf">UA_KeyValueMap_getScalar</span><span class="p">(</span><span class="n">UA_KeyValuePair</span><span class="w"> </span><span class="o">*</span><span class="n">map</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">mapSize</span><span class="p">,</span>
<span class="w">                         </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">UA_DataType</span><span class="w"> </span><span class="o">*</span><span class="n">type</span><span class="p">);</span>

<span class="k">const</span><span class="w"> </span><span class="n">UA_Variant</span><span class="w"> </span><span class="o">*</span>
<span class="nf">UA_KeyValueMap_getArray</span><span class="p">(</span><span class="n">UA_KeyValuePair</span><span class="w"> </span><span class="o">*</span><span class="n">map</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">mapSize</span><span class="p">,</span>
<span class="w">                        </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">UA_DataType</span><span class="w"> </span><span class="o">*</span><span class="n">type</span><span class="p">);</span>

<span class="cm">/* Remove a single entry. To delete the entire map, use UA_Array_delete. */</span>
<span class="kt">void</span>
<span class="nf">UA_KeyValueMap_deleteQualified</span><span class="p">(</span><span class="n">UA_KeyValuePair</span><span class="w"> </span><span class="o">**</span><span class="n">map</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="o">*</span><span class="n">mapSize</span><span class="p">,</span>
<span class="w">                               </span><span class="k">const</span><span class="w"> </span><span class="n">UA_QualifiedName</span><span class="w"> </span><span class="o">*</span><span class="n">key</span><span class="p">);</span>

<span class="cm">/* Simplified version that assumes the key is in namespace 0 */</span>
<span class="kt">void</span>
<span class="nf">UA_KeyValueMap_delete</span><span class="p">(</span><span class="n">UA_KeyValuePair</span><span class="w"> </span><span class="o">**</span><span class="n">map</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="o">*</span><span class="n">mapSize</span><span class="p">,</span>
<span class="w">                      </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">key</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="endpoint-url-parser">
<h2>Endpoint URL Parser<a class="headerlink" href="#endpoint-url-parser" title="Link to this heading">¶</a></h2>
<p>The endpoint URL parser is generally useful for the implementation of network
layer plugins.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cm">/* Split the given endpoint url into hostname, port and path. All arguments must</span>
<span class="cm"> * be non-NULL. EndpointUrls have the form &quot;opc.tcp://hostname:port/path&quot;, port</span>
<span class="cm"> * and path may be omitted (together with the prefix colon and slash).</span>
<span class="cm"> *</span>
<span class="cm"> * @param endpointUrl The endpoint URL.</span>
<span class="cm"> * @param outHostname Set to the parsed hostname. The string points into the</span>
<span class="cm"> *        original endpointUrl, so no memory is allocated. If an IPv6 address is</span>
<span class="cm"> *        given, hostname contains e.g. &#39;[2001:0db8:85a3::8a2e:0370:7334]&#39;</span>
<span class="cm"> * @param outPort Set to the port of the url or left unchanged.</span>
<span class="cm"> * @param outPath Set to the path if one is present in the endpointUrl.</span>
<span class="cm"> *        Starting or trailing &#39;/&#39; are NOT included in the path. The string</span>
<span class="cm"> *        points into the original endpointUrl, so no memory is allocated.</span>
<span class="cm"> * @return Returns UA_STATUSCODE_BADTCPENDPOINTURLINVALID if parsing failed. */</span>
<span class="n">UA_StatusCode</span>
<span class="nf">UA_parseEndpointUrl</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">UA_String</span><span class="w"> </span><span class="o">*</span><span class="n">endpointUrl</span><span class="p">,</span><span class="w"> </span><span class="n">UA_String</span><span class="w"> </span><span class="o">*</span><span class="n">outHostname</span><span class="p">,</span>
<span class="w">                    </span><span class="n">UA_UInt16</span><span class="w"> </span><span class="o">*</span><span class="n">outPort</span><span class="p">,</span><span class="w"> </span><span class="n">UA_String</span><span class="w"> </span><span class="o">*</span><span class="n">outPath</span><span class="p">);</span>

<span class="cm">/* Split the given endpoint url into hostname, vid and pcp. All arguments must</span>
<span class="cm"> * be non-NULL. EndpointUrls have the form &quot;opc.eth://&lt;host&gt;[:&lt;VID&gt;[.PCP]]&quot;.</span>
<span class="cm"> * The host is a MAC address, an IP address or a registered name like a</span>
<span class="cm"> * hostname. The format of a MAC address is six groups of hexadecimal digits,</span>
<span class="cm"> * separated by hyphens (e.g. 01-23-45-67-89-ab). A system may also accept</span>
<span class="cm"> * hostnames and/or IP addresses if it provides means to resolve it to a MAC</span>
<span class="cm"> * address (e.g. DNS and Reverse-ARP).</span>
<span class="cm"> *</span>
<span class="cm"> * Note: currently only parsing MAC address is supported.</span>
<span class="cm"> *</span>
<span class="cm"> * @param endpointUrl The endpoint URL.</span>
<span class="cm"> * @param vid Set to VLAN ID.</span>
<span class="cm"> * @param pcp Set to Priority Code Point.</span>
<span class="cm"> * @return Returns UA_STATUSCODE_BADINTERNALERROR if parsing failed. */</span>
<span class="n">UA_StatusCode</span>
<span class="nf">UA_parseEndpointUrlEthernet</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">UA_String</span><span class="w"> </span><span class="o">*</span><span class="n">endpointUrl</span><span class="p">,</span><span class="w"> </span><span class="n">UA_String</span><span class="w"> </span><span class="o">*</span><span class="n">target</span><span class="p">,</span>
<span class="w">                            </span><span class="n">UA_UInt16</span><span class="w"> </span><span class="o">*</span><span class="n">vid</span><span class="p">,</span><span class="w"> </span><span class="n">UA_Byte</span><span class="w"> </span><span class="o">*</span><span class="n">pcp</span><span class="p">);</span>

<span class="cm">/* Convert given byte string to a positive number. Returns the number of valid</span>
<span class="cm"> * digits. Stops if a non-digit char is found and returns the number of digits</span>
<span class="cm"> * up to that point. */</span>
<span class="kt">size_t</span>
<span class="nf">UA_readNumber</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">UA_Byte</span><span class="w"> </span><span class="o">*</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">buflen</span><span class="p">,</span><span class="w"> </span><span class="n">UA_UInt32</span><span class="w"> </span><span class="o">*</span><span class="n">number</span><span class="p">);</span>

<span class="cm">/* Same as UA_ReadNumber but with a base parameter */</span>
<span class="kt">size_t</span>
<span class="nf">UA_readNumberWithBase</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">UA_Byte</span><span class="w"> </span><span class="o">*</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">buflen</span><span class="p">,</span>
<span class="w">                      </span><span class="n">UA_UInt32</span><span class="w"> </span><span class="o">*</span><span class="n">number</span><span class="p">,</span><span class="w"> </span><span class="n">UA_Byte</span><span class="w"> </span><span class="n">base</span><span class="p">);</span>

<span class="cp">#ifndef UA_MIN</span>
<span class="cp">#define UA_MIN(A, B) ((A) &gt; (B) ? (B) : (A))</span>
<span class="cp">#endif</span>

<span class="cp">#ifndef UA_MAX</span>
<span class="cp">#define UA_MAX(A, B) ((A) &gt; (B) ? (A) : (B))</span>
<span class="cp">#endif</span>
</pre></div>
</div>
</section>
<section id="parse-relativepath-expressions">
<h2>Parse RelativePath Expressions<a class="headerlink" href="#parse-relativepath-expressions" title="Link to this heading">¶</a></h2>
<p>Parse a RelativePath according to the format defined in Part 4, A2. This is
used e.g. for the BrowsePath structure. For now, only the standard
ReferenceTypes from Namespace 0 are recognized (see Part 3).</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">RelativePath</span> <span class="pre">:=</span> <span class="pre">(</span> <span class="pre">ReferenceType</span> <span class="pre">[BrowseName]?</span> <span class="pre">)*</span></code></p>
</div></blockquote>
<p>The ReferenceTypes have either of the following formats:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">/</span></code>: <em>HierarchicalReferences</em> and subtypes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.</span></code>: <em>Aggregates</em> ReferenceTypesand subtypes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;</span> <span class="pre">[!#]*</span> <span class="pre">BrowseName</span> <span class="pre">&gt;</span></code>: The ReferenceType is indicated by its BrowseName
(a QualifiedName). Prefixed modifiers can be as follows: <code class="docutils literal notranslate"><span class="pre">!</span></code> switches to
inverse References. <code class="docutils literal notranslate"><span class="pre">#</span></code> excludes subtypes of the ReferenceType.</p></li>
</ul>
<p>QualifiedNames consist of an optional NamespaceIndex and the nameitself:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">QualifiedName</span> <span class="pre">:=</span> <span class="pre">([0-9]+</span> <span class="pre">&quot;:&quot;)?</span> <span class="pre">Name</span></code></p>
</div></blockquote>
<p>The QualifiedName representation for RelativePaths uses <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> as the escape
character. Occurences of the characters <code class="docutils literal notranslate"><span class="pre">/.&lt;&gt;:#!&amp;</span></code> in a QualifiedName have
to be escaped (prefixed with <code class="docutils literal notranslate"><span class="pre">&amp;</span></code>).</p>
<section id="example-relativepaths">
<h3>Example RelativePaths<a class="headerlink" href="#example-relativepaths" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">/2:Block&amp;.Output</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/3:Truck.0:NodeVersion</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;0:HasProperty&gt;1:Boiler/1:HeatSensor</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;0:HasChild&gt;2:Wheel</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;#Aggregates&gt;1:Boiler/</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;!HasChild&gt;Truck</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;HasChild&gt;</span></code></p></li>
</ul>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#ifdef UA_ENABLE_PARSING</span>
<span class="n">UA_StatusCode</span>
<span class="nf">UA_RelativePath_parse</span><span class="p">(</span><span class="n">UA_RelativePath</span><span class="w"> </span><span class="o">*</span><span class="n">rp</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">UA_String</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="cp">#endif</span>
</pre></div>
</div>
</section>
</section>
<section id="convenience-macros-for-complex-types">
<h2>Convenience macros for complex types<a class="headerlink" href="#convenience-macros-for-complex-types" title="Link to this heading">¶</a></h2>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#define UA_PRINTF_GUID_FORMAT &quot;%08&quot; PRIx32 &quot;-%04&quot; PRIx16 &quot;-%04&quot; PRIx16 \</span>
<span class="cp">    &quot;-%02&quot; PRIx8 &quot;%02&quot; PRIx8 &quot;-%02&quot; PRIx8 &quot;%02&quot; PRIx8 &quot;%02&quot; PRIx8 &quot;%02&quot; PRIx8 &quot;%02&quot; PRIx8 &quot;%02&quot; PRIx8</span>
<span class="cp">#define UA_PRINTF_GUID_DATA(GUID) (GUID).data1, (GUID).data2, (GUID).data3, \</span>
<span class="cp">        (GUID).data4[0], (GUID).data4[1], (GUID).data4[2], (GUID).data4[3], \</span>
<span class="cp">        (GUID).data4[4], (GUID).data4[5], (GUID).data4[6], (GUID).data4[7]</span>

<span class="cp">#define UA_PRINTF_STRING_FORMAT &quot;\&quot;%.*s\&quot;&quot;</span>
<span class="cp">#define UA_PRINTF_STRING_DATA(STRING) (int)(STRING).length, (STRING).data</span>
</pre></div>
</div>
</section>
<section id="helper-functions-for-converting-data-types">
<h2>Helper functions for converting data types<a class="headerlink" href="#helper-functions-for-converting-data-types" title="Link to this heading">¶</a></h2>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cm">/* Compare memory in constant time to mitigate timing attacks.</span>
<span class="cm"> * Returns true if ptr1 and ptr2 are equal for length bytes. */</span>
<span class="k">static</span><span class="w"> </span><span class="n">UA_INLINE</span><span class="w"> </span><span class="n">UA_Boolean</span>
<span class="n">UA_constantTimeEqual</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">ptr1</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">ptr2</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">length</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">volatile</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">UA_Byte</span><span class="w"> </span><span class="o">*</span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">volatile</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">UA_Byte</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">ptr1</span><span class="p">;</span>
<span class="w">    </span><span class="k">volatile</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">UA_Byte</span><span class="w"> </span><span class="o">*</span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">volatile</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">UA_Byte</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">ptr2</span><span class="p">;</span>
<span class="w">    </span><span class="k">volatile</span><span class="w"> </span><span class="n">UA_Byte</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">length</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">UA_Byte</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="w">        </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="n">y</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">!</span><span class="n">c</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="pubsub.html" class="btn btn-neutral float-left" title="PubSub" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="nodeset_compiler.html" class="btn btn-neutral float-right" title="XML Nodeset Compiler" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016, The open62541 authors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>